(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{452:function(t,v,_){"use strict";_.r(v);var e=_(44),r=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"popover"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#popover"}},[t._v("#")]),t._v(" Popover")]),t._v(" "),_("h2",{attrs:{id:"_1-需求演示"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-需求演示"}},[t._v("#")]),t._v(" 1.需求演示")]),t._v(" "),_("ul",[_("li",[t._v("击按钮弹出浮层，再次点击关闭浮层")]),t._v(" "),_("li",[t._v("如果容器上有 overflow: hidden，浮层依然能完整显示")]),t._v(" "),_("li",[t._v("浮层可以显示在四种位置：left right top bottom")]),t._v(" "),_("li",[t._v("内容支持文本，html")]),t._v(" "),_("li",[t._v("支持点击popover里的关闭按钮，进行关闭")]),t._v(" "),_("li",[t._v("支持 click 触发")])]),t._v(" "),_("ClientOnly",[_("popover-demo1")],1),t._v(" "),_("ul",[_("li",[t._v("支持 hover 触发")])]),t._v(" "),_("ClientOnly",[_("popover-demo2")],1),t._v(" "),_("h2",{attrs:{id:"_2-api"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-api"}},[t._v("#")]),t._v(" 2.API")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("trigger")]),t._v(" "),_("td",[t._v("触发方式")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("click")])]),t._v(" "),_("tr",[_("td",[t._v("position")]),t._v(" "),_("td",[t._v("弹出内容出现位置")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("top")])])])]),t._v(" "),_("h2",{attrs:{id:"_3-实现的逻辑"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-实现的逻辑"}},[t._v("#")]),t._v(" 3.实现的逻辑")]),t._v(" "),_("ul",[_("li",[t._v("根据position的传入，prop获取，给弹出的标签设定class")]),t._v(" "),_("li",[t._v("使用了calc 计算 css长宽")]),t._v(" "),_("li",[t._v("使用addEventListener来做hover和click的事件监听，用传入的值来判断选择哪种监听方式")]),t._v(" "),_("li",[t._v("使用contains来判断点击的元素是否包含目标元素")]),t._v(" "),_("li",[t._v("popover如果是一个过长的单词不换行，word-break:break-all;")]),t._v(" "),_("li",[t._v(".bind()会生成新的函数")]),t._v(" "),_("li",[t._v("window.scrollY+top和window.scrollX+left，解决相对定位不准bug")]),t._v(" "),_("li",[t._v("使用了 beforeDestory 去除事件监听器,监听器过多会浪费内存,关闭popover removeEventListener")]),t._v(" "),_("li",[t._v("解决overflow：hidden会产生的bug")])]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("//把popover放在body里,而不是在原来的同级元素里\ndocument.body.appendChild(xxx);\n```---\ntitle:Popover\n---")])])])],1)}),[],!1,null,null,null);v.default=r.exports}}]);